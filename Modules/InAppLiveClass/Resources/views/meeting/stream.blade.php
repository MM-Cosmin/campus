<div id="stream-player" class="player stream-player flex-grow-1 position-relative">
    @if($notStarted)
        <div id="notStartedAlert"
             class="no-result default-no-result d-flex align-items-center justify-content-center flex-column w-100 h-100">
            <div class="d-flex align-items-center flex-column mt-30 text-center">
                <h2 class="text-dark-blue">{{ trans('frontend.The Class not started yet') }}</h2>
                <p class="mt-5 text-center text-gray font-weight-500">{{ trans('You can wait on this page and it will be displayed for you once the class starts by instructor') }}</p>
            </div>
        </div>
    @else
        <div class="agora-stream-loading">
            <img src="{{asset('Modules/InAppLiveClass/Resources/assets/loading.gif')}}" alt="">
            <p class="mt-10">{{ trans('frontend.Connecting to the live session, please wait') }}.</p>
        </div>
    @endif
</div>

<!-- Single button -->
<div class="stream-footer py-20 px-15 px-lg-30 mt-15 d-flex align-items-center justify-content-center bg-white">

    @if($isHost || $audio)
        <div class="stream-btn  {{$isHost?'active':''}}" id="microphoneEffect"
        >
            <span class="icon">
<svg width="21" height="22" viewBox="0 0 31 36" fill="none" xmlns="http://www.w3.org/2000/svg">
<path
    d="M15.8461 29.814C15.8461 29.5379 15.6223 29.314 15.3461 29.314C15.07 29.314 14.8461 29.5379 14.8461 29.814H15.8461ZM14.8461 34.8646C14.8461 35.1408 15.07 35.3646 15.3461 35.3646C15.6223 35.3646 15.8461 35.1408 15.8461 34.8646H14.8461ZM23.4307 7.35604L23.9306 7.34348V7.34348L23.4307 7.35604ZM7.59329 7.35604L8.09313 7.3686V7.3686L7.59329 7.35604ZM1.03309 18.2106C1.01213 17.9353 0.771923 17.7291 0.496577 17.75C0.221232 17.771 0.0150121 18.0112 0.0359732 18.2865L1.03309 18.2106ZM30.9834 18.3266C31.0265 18.0539 30.8404 17.7978 30.5676 17.7547C30.2949 17.7116 30.0388 17.8978 29.9957 18.1705L30.9834 18.3266ZM14.8461 29.814V34.8646H15.8461V29.814H14.8461ZM15.4629 1.85632C17.4365 1.85632 19.3013 2.4453 20.6714 3.43543C22.0381 4.42307 22.8912 5.78947 22.9309 7.3686L23.9306 7.34348C23.8814 5.38659 22.8183 3.75313 21.2571 2.62492C19.6994 1.49919 17.6246 0.856323 15.4629 0.856323V1.85632ZM22.9309 7.3686C22.9695 8.90551 23.0845 10.577 23.0902 12.3136C23.0958 14.0341 22.9911 15.7362 22.603 17.2393C22.2156 18.7392 21.5544 20.0087 20.4696 20.9063C19.3888 21.8007 17.8315 22.372 15.5611 22.372V23.372C18.0036 23.372 19.8052 22.754 21.1071 21.6767C22.4051 20.6028 23.1505 19.1184 23.5712 17.4893C23.991 15.8636 24.0959 14.0617 24.0902 12.3103C24.0845 10.5751 23.9673 8.80695 23.9306 7.34348L22.9309 7.3686ZM15.5611 22.372C13.2909 22.372 11.7265 21.8007 10.6358 20.9051C9.54114 20.0063 8.86831 18.7355 8.46922 17.2357C7.66078 14.1976 8.01619 10.4301 8.09313 7.3686L7.09344 7.34348C7.01958 10.2827 6.64608 14.2732 7.50284 17.4929C7.93635 19.122 8.69466 20.6051 10.0012 21.6779C11.3117 22.754 13.1185 23.372 15.5611 23.372V22.372ZM8.09313 7.3686C8.13294 5.7843 8.9665 4.41813 10.3067 3.43306C11.651 2.445 13.4896 1.85632 15.4629 1.85632V0.856323C13.3007 0.856323 11.2489 1.4995 9.7145 2.62729C8.17602 3.75807 7.14249 5.39175 7.09344 7.34348L8.09313 7.3686ZM0.0359732 18.2865C0.292145 21.6516 1.82334 24.6699 4.46282 26.8417C7.09994 29.0116 10.8152 30.3148 15.4134 30.3148V29.3148C11.0037 29.3148 7.52552 28.0668 5.0982 26.0696C2.67325 24.0742 1.26899 21.3094 1.03309 18.2106L0.0359732 18.2865ZM15.4134 30.3148C24.0866 30.3148 29.9216 25.0433 30.9834 18.3266L29.9957 18.1705C29.0183 24.3531 23.6448 29.3148 15.4134 29.3148V30.3148Z"
    fill="currentColor"/>
</svg>



            </span>
            <span>{{ trans('frontend.Audio') }}</span>
        </div>
    @endif
    @if($isHost || $video)
        <div id="cameraEffect" class="stream-btn {{$isHost?'active':''}}">
            <span class="icon">
               <svg width="21" height="22" viewBox="0 0 21 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M3.13986 20.6538C2.22573 20.5672 1.47892 19.7961 1.34409 18.8027C1.17247 17.5384 1 16.2293 1 14.8889C1 13.5484 1.17247 12.2395 1.34409 10.975C1.47892 9.98177 2.22573 9.21065 3.13986 9.12404C3.29569 9.10928 3.45207 9.09429 3.60902 9.07926C5.15489 8.93114 6.75566 8.77778 8.39537 8.77778C10.0351 8.77778 11.6359 8.93114 13.1817 9.07926C13.3387 9.09429 13.4951 9.10928 13.6509 9.12404C14.5651 9.21065 15.3119 9.98177 15.4466 10.975C15.5198 11.5133 15.593 12.0597 15.653 12.6131C17.4732 11.7227 19.8889 10.5585 19.8889 10.5585V19.2194C19.8889 19.2194 17.4732 18.0553 15.653 17.165C15.593 17.7182 15.5198 18.2645 15.4466 18.8027C15.3119 19.7961 14.5651 20.5672 13.6509 20.6538C13.4951 20.6686 13.3387 20.6834 13.1817 20.6985C11.6359 20.8467 10.0351 21 8.39537 21C6.75568 21 5.15489 20.8467 3.60906 20.6985C3.45209 20.6834 3.29569 20.6686 3.13986 20.6538Z"
                        stroke="currentColor"/>
                    <path
                        d="M8.77778 4.88889C8.77778 7.03666 7.03666 8.77778 4.88889 8.77778C2.74111 8.77778 1 7.03666 1 4.88889C1 2.74111 2.74111 1 4.88889 1C7.03666 1 8.77778 2.74111 8.77778 4.88889Z"
                        stroke="currentColor"/>
                    <path
                        d="M14.3333 6C14.3333 7.53412 13.0897 8.77778 11.5556 8.77778C10.0214 8.77778 8.77778 7.53412 8.77778 6C8.77778 4.46588 10.0214 3.22222 11.5556 3.22222C13.0897 3.22222 14.3333 4.46588 14.3333 6Z"
                        stroke="currentColor"/>
                </svg>


            </span>

            <span>{{ trans('frontend.Video') }}</span>
        </div>
    @endif

    @if($isHost || $share_screen)
        <div class="stream-btn" id="shareScreen">

            <span class="icon">
                <svg width="22" height="19" viewBox="0 0 22 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M14.7022 10.0208C14.8772 10.2345 15.1923 10.2657 15.4059 10.0907C15.6195 9.91573 15.6508 9.60069 15.4758 9.38709L14.7022 10.0208ZM11.4283 6.04329L11.7434 5.65509C11.5598 5.50602 11.2968 5.50602 11.1132 5.65509L11.4283 6.04329ZM7.38085 9.38709C7.20584 9.60069 7.23713 9.91572 7.45074 10.0907C7.66434 10.2657 7.97937 10.2345 8.15438 10.0209L7.38085 9.38709ZM15.9967 15.7089C15.7207 15.7177 15.5041 15.9486 15.5129 16.2246C15.5217 16.5006 15.7526 16.7172 16.0286 16.7084L15.9967 15.7089ZM18.4756 16.1083L18.4507 15.609L18.4507 15.609L18.4756 16.1083ZM21.2691 13.1766L21.7679 13.2121L21.2691 13.1766ZM21.2691 4.10422L21.7679 4.06872L21.7679 4.06872L21.2691 4.10422ZM18.4756 1.17249L18.4507 1.67187L18.4507 1.67187L18.4756 1.17249ZM4.38155 1.17249L4.40639 1.67187L4.40639 1.67187L4.38155 1.17249ZM1.58811 4.10422L2.08685 4.13973L2.08685 4.13969L1.58811 4.10422ZM1.58811 13.1766L2.08685 13.1411L2.08684 13.1411L1.58811 13.1766ZM4.38155 16.1083L4.40639 15.609L4.40638 15.609L4.38155 16.1083ZM6.82851 16.7084C7.10451 16.7172 7.3354 16.5006 7.34422 16.2246C7.35304 15.9486 7.13644 15.7177 6.86044 15.7089L6.82851 16.7084ZM10.9286 18.4081C10.9286 18.6842 11.1524 18.9081 11.4286 18.9081C11.7047 18.9081 11.9286 18.6842 11.9286 18.4081L10.9286 18.4081ZM11.9286 6.09433C11.9286 5.81818 11.7047 5.59433 11.4286 5.59433C11.1524 5.59433 10.9286 5.81818 10.9286 6.09433L11.9286 6.09433ZM15.4758 9.38709C14.655 8.38529 14.2068 7.84146 13.7188 7.35344C13.23 6.86461 12.7056 6.43612 11.7434 5.65509L11.1132 6.43149C12.0867 7.22168 12.5669 7.61573 13.0117 8.06053C13.4573 8.50614 13.8716 9.00704 14.7022 10.0208L15.4758 9.38709ZM11.1132 5.65509C10.151 6.43612 9.62663 6.86461 9.13782 7.35344C8.64983 7.84145 8.20165 8.38528 7.38085 9.38709L8.15438 10.0209C8.98501 9.00704 9.39935 8.50614 9.84494 8.06053C10.2897 7.61573 10.77 7.22168 11.7434 6.43149L11.1132 5.65509ZM16.0286 16.7084C16.8627 16.6818 17.687 16.6482 18.5004 16.6077L18.4507 15.609C17.6434 15.6491 16.825 15.6825 15.9967 15.7089L16.0286 16.7084ZM18.5004 16.6077C20.2509 16.5207 21.6367 15.0555 21.7679 13.2121L20.7704 13.1411C20.671 14.5369 19.6413 15.5498 18.4507 15.609L18.5004 16.6077ZM21.7679 13.2121C21.8735 11.7284 21.9286 10.2005 21.9286 8.64044L20.9286 8.64044C20.9286 10.1771 20.8743 11.6812 20.7704 13.1411L21.7679 13.2121ZM21.9286 8.64044C21.9286 7.0803 21.8735 5.55248 21.7679 4.06872L20.7704 4.13972C20.8743 5.59964 20.9286 7.10378 20.9286 8.64044L21.9286 8.64044ZM21.7679 4.06872C21.6366 2.22532 20.2509 0.760185 18.5004 0.673105L18.4507 1.67187C19.6413 1.73109 20.671 2.74394 20.7704 4.13972L21.7679 4.06872ZM18.5004 0.673105C16.2208 0.559695 13.8548 0.5 11.4286 0.5L11.4286 1.5C13.8385 1.5 16.1879 1.5593 18.4507 1.67187L18.5004 0.673105ZM11.4286 0.5C9.00235 0.499999 6.63635 0.559695 4.3567 0.673105L4.40639 1.67187C6.66924 1.5593 9.01867 1.5 11.4286 1.5L11.4286 0.5ZM4.35671 0.673105C2.60616 0.760184 1.22049 2.22535 1.08937 4.06874L2.08685 4.13969C2.18613 2.74395 3.21581 1.73109 4.40639 1.67187L4.35671 0.673105ZM1.08937 4.0687C0.983721 5.55247 0.928589 7.0803 0.928589 8.64042L1.92859 8.64042C1.92859 7.10378 1.98289 5.59964 2.08685 4.13973L1.08937 4.0687ZM0.928589 8.64042C0.928588 10.2005 0.98372 11.7284 1.08937 13.2121L2.08684 13.1411C1.98289 11.6812 1.92859 10.1771 1.92859 8.64042L0.928589 8.64042ZM1.08937 13.2121C1.22049 15.0555 2.60616 16.5207 4.35672 16.6077L4.40638 15.609C3.21582 15.5498 2.18613 14.5369 2.08685 13.1411L1.08937 13.2121ZM4.3567 16.6077C5.17014 16.6482 5.99438 16.6818 6.82851 16.7084L6.86044 15.7089C6.03207 15.6825 5.21375 15.6491 4.40639 15.609L4.3567 16.6077ZM11.9286 18.4081L11.9286 6.09433L10.9286 6.09433L10.9286 18.4081L11.9286 18.4081Z"
                        fill="currentColor"/>
                </svg>

            </span>
            <span>{{ trans('frontend.share_screen') }}</span>
        </div>
    @endif


    <div class="stream-btn end"
         data-toggle="modal" data-target="#leaveModal">
            <span class="icon">
                <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M7.30047 1.67081C6.08311 0.650568 4.26929 0.79722 3.34562 2.08941C3.09891 2.43454 2.80656 2.84621 2.3016 3.47786C0.564534 5.65075 0.564539 8.79703 2.3112 10.9622C3.60062 12.5606 4.95255 14.1734 6.46385 15.6847C7.97515 17.196 9.588 18.5479 11.1864 19.8374C13.3516 21.5841 16.4979 21.5841 18.6707 19.847C19.3446 19.3082 19.7651 19.0147 20.122 18.7598C21.3702 17.8683 21.5451 16.1199 20.5705 14.9356C19.8003 13.9997 18.9426 13.1068 18.1153 12.2353C17.4563 11.541 16.3556 11.4957 15.6076 12.0931C15.4064 12.2537 15.1566 12.4655 14.6501 12.9403C12.1647 11.4634 10.6583 9.93862 9.2083 7.49844C9.68889 6.98582 9.90084 6.73529 10.0629 6.53217C10.6592 5.78476 10.615 4.68696 9.91658 4.03389C9.06542 3.23793 8.19917 2.42397 7.30047 1.67081Z"
                        stroke="currentColor" stroke-linejoin="round"/>
                </svg>
            </span>
        <span>{{ trans('frontend.End Class') }}</span>
    </div>

    <div class="modal fade" id="leaveModal" tabindex="-1" role="dialog" aria-labelledby="leaveModalLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-sm">
            <div class="modal-content">
                {{--                <div class="modal-header">--}}
                {{--                    <h5 class="modal-title" id="leaveModalLabel">{{ trans('frontend.End Class') }}</h5>--}}
                {{--                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">--}}
                {{--                        <span aria-hidden="true">&times;</span>--}}
                {{--                    </button>--}}
                {{--                </div>--}}
                <div class="modal-body ">
                    <p class="">{{ trans('frontend.Are you sure to end the live class?') }}</p>

                    <div class="mt-30 text-center">

                        <button type="button" class="yes btn" id="leave"
                                data-id="{{ $session->id }}">{{ trans('common.Yes') }}</button>
                        <button type="button" class="no btn"
                                data-dismiss="modal">{{ trans('common.No') }}</button>


                    </div>
                </div>
            </div>
        </div>
    </div>


</div>

<script>

    var rtcToken = '{{ $rtcToken }}';
    var notStarted = false;
    var endUrl = "{{route('inappliveclass.meetings.end',$session->id)}}"
    @if($notStarted) notStarted = true @endif

</script>


<script src="{{asset('Modules/InAppLiveClass/Resources/assets/AgoraRTC_N.js')}}"></script>
{{--<script src="{{asset('Modules/InAppLiveClass/Resources/assets/stream.js')}}"></script>--}}
